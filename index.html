<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Japan & Korea: History Narrative Edition</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@700;900&display=swap">
    <style>
        :root {
            --bg: #ffffff;
            --secondary-bg: #f5f5f7;
            --text: #1d1d1f;
            --text-gray: #86868b;
            --accent: #0071e3;
            --accent-red: #d70015;
            --glass: rgba(255, 255, 255, 0.8);
            --border: rgba(0, 0, 0, 0.1);
            --card-shadow: 0 20px 40px rgba(0,0,0,0.06);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-font-smoothing: antialiased; }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            overflow-x: hidden;
            line-height: 1.47;
        }

        html { scroll-behavior: smooth; }

        #scroll-progress {
            position: fixed; top: 0; left: 0; width: 0%; height: 4px;
            background: var(--accent-red); z-index: 9999;
        }

        nav {
            position: fixed; top: 0; width: 100%; height: 52px;
            background: var(--glass); backdrop-filter: saturate(180%) blur(20px);
            z-index: 1000; border-bottom: 1px solid var(--border);
            display: flex; align-items: center; justify-content: center;
        }

        nav a { font-size: 12px; font-weight: 600; text-decoration: none; color: var(--text); letter-spacing: 1px; }

        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            background: radial-gradient(circle at center, #fff 0%, #f5f5f7 100%);
        }

        .hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 8vw, 7rem);
            font-weight: 900;
            letter-spacing: -0.04em;
            line-height: 1.1;
            margin-bottom: 20px;
        }

        .hero p {
            font-size: clamp(1rem, 2vw, 1.5rem);
            color: var(--text-gray);
            max-width: 800px;
        }

        /* PLAN SECTION */
        .plan-section {
            padding: 60px 24px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .plan-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        .plan-item {
            padding: 20px;
            border-left: 3px solid var(--accent-red);
            background: var(--secondary-bg);
            border-radius: 0 16px 16px 0;
        }
        .plan-item span { font-weight: 800; color: var(--accent-red); display: block; margin-bottom: 5px; }

        .team-section { padding: 80px 24px; text-align: center; background: #000; color: #fff; }
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            max-width: 1000px;
            margin: 40px auto 0;
        }
        .team-card {
            background: #1c1c1e;
            padding: 30px;
            border-radius: 24px;
            border: 1px solid #333;
        }
        .team-card h4 { color: var(--accent-red); font-size: 1.2rem; }

        .section-wrapper { max-width: 1200px; margin: 0 auto; padding: 80px 24px; }
        .bento-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 24px; margin-bottom: 60px; }
        
        .card {
            background: var(--secondary-bg);
            border-radius: 32px;
            padding: 40px;
            transition: 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
            border: 1px solid transparent;
        }
        .card:hover { transform: translateY(-5px); border-color: var(--border); box-shadow: var(--card-shadow); }

        .full { grid-column: span 12; }
        .half { grid-column: span 6; }
        .eight { grid-column: span 8; }
        .four { grid-column: span 4; }

        h2 { font-family: 'Playfair Display', serif; font-size: clamp(1.8rem, 4vw, 3rem); font-weight: 700; margin-bottom: 20px; line-height: 1.2; }
        h3 { font-size: 0.8rem; color: var(--accent-red); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 15px; font-weight: 700; }
        p { font-size: 1.1rem; color: #424245; margin-bottom: 15px; }
        b { color: var(--text); font-weight: 600; }

        .feature-list { list-style: none; margin: 20px 0; }
        .feature-list li { margin-bottom: 12px; padding-left: 25px; position: relative; font-size: 1rem; color: #424245; }
        .feature-list li::before { content: "→"; position: absolute; left: 0; color: var(--accent-red); font-weight: bold; }

        .img-box {
            width: 100%; border-radius: 20px; overflow: hidden; margin: 20px 0;
            background: #e8e8ed; aspect-ratio: 16/9;
        }
        .img-box img { width: 100%; height: 100%; object-fit: cover; }

        /* КРОССВОРД */
        .crossword-container {
            background: #fff; border-radius: 40px; padding: 50px;
            box-shadow: 0 40px 80px rgba(0,0,0,0.08); margin-top: 50px;
        }
        .cw-layout { display: flex; gap: 40px; flex-wrap: wrap; }
        .cw-grid {
            display: grid; grid-template-columns: repeat(12, 45px); grid-template-rows: repeat(11, 45px);
            gap: 5px; padding: 15px; background: var(--secondary-bg); border-radius: 20px;
        }
        .cw-cell {
            width: 45px; height: 45px; background: #fff; border-radius: 8px;
            position: relative; display: flex; align-items: center; justify-content: center;
        }
        .cw-cell.empty { background: transparent; }
        .cw-cell input {
            width: 100%; height: 100%; border: none; background: transparent;
            text-align: center; font-size: 1.2rem; font-weight: 800; text-transform: uppercase;
        }
        .cw-cell span { position: absolute; top: 2px; left: 4px; font-size: 9px; color: var(--text-gray); }
        .cw-cell.correct { background: #34c759 !important; color: white; }
        .cw-cell.correct input { color: white; }

        .clues-panel h4 { margin: 20px 0 10px; color: var(--accent-red); }
        .clues-panel li { margin-bottom: 10px; font-size: 1rem; list-style: none; }

        .btn { padding: 14px 28px; border-radius: 14px; border: none; font-weight: 700; cursor: pointer; margin-right: 10px; }
        .btn-primary { background: var(--accent-red); color: white; }

        @media (max-width: 768px) {
            .half, .eight, .four { grid-column: span 12; }
            .cw-grid { grid-template-columns: repeat(12, 30px); grid-template-rows: repeat(11, 30px); }
            .cw-cell { width: 30px; height: 30px; }
        }

        .reveal { opacity: 0; transform: translateY(30px); transition: 0.8s ease-out; }
        .reveal.visible { opacity: 1; transform: translateY(0); }

        .conclusion-card { background: linear-gradient(135deg, #1c1c1e 0%, #2c2c2e 100%); color: #fff; padding: 60px; border-radius: 40px; margin-bottom: 60px; }
        .conclusion-card h2 { color: #fff; }
        .conclusion-card p { color: #d2d2d7; }

        footer { text-align: center; padding: 60px; background: var(--secondary-bg); font-size: 0.9rem; }
    </style>
</head>
<body>

    <div id="scroll-progress"></div>

    <nav>
        <a>ИСТОРИЯ ЯПОНИИ И КОРЕИ • СРЕДНИЕ ВЕКА</a>
    </nav>

    <header class="hero">
        <div class="reveal">
            <h3>История цивилизаций</h3>
            <h1>Япония и Корея<br> в Средние века</h1>
            <p>Глубокое погружение в политику, войны и культуру двух великих соседей в эпоху Средневековья.</p>
        </div>
    </header>

    <section class="plan-section reveal">
        <h3>Структура проекта</h3>
        <h2>О чем мы расскажем:</h2>
        <div class="plan-grid">
            <div class="plan-item"><span>01</span> Становление власти сёгунов в Японии</div>
            <div class="plan-item"><span>02</span> Кодекс Бусидо и сословие самураев</div>
            <div class="plan-item"><span>03</span> Эпоха Сэнгоку: Страна в огне</div>
            <div class="plan-item"><span>04</span> Корея: От эпохи Корё к расцвету Чосона</div>
            <div class="plan-item"><span>05</span> Великие реформы и инновации Востока</div>
        </div>
    </section>

    <section class="team-section reveal">
        <h3>Исследовательская группа</h3>
        <h2>Авторы проекта</h2>
        <div class="team-grid">
            <div class="team-card"><h4>Абдурахимова</h4><p>Мадина</p></div>
            <div class="team-card"><h4>Басиров</h4><p>Тамир</p></div>
            <div class="team-card"><h4>Тураева</h4><p>Динора</p></div>
            <div class="team-card"><h4>Хамитова</h4><p>Надима</p></div>
            <div class="team-card"><h4>Шавкатов</h4><p>Шавкат</p></div>
        </div>
    </section>

    <div class="section-wrapper">

        <div class="bento-grid reveal">
            <div class="card eight">
                <h3>Особенности государственного управления</h3>
                <h2>Статус императора (микадо)</h2>
                <p>К XII веку император считался священным потомком богини Аматэрасу. Однако он был лишь <b>номинальным правителем</b> распорядителем ритуалов.
                <ul class="feature-list">
                    <li><b>Реальная власть</b> 
                    <p>Фактическое управление страной находилось в руках высшей знати и влиятельных вассалов.<b>Это привело к тому, что феодалы стали править своими владениями независимо.</b> 
                </ul>
                <div class="img-box">
                    <img src="https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?auto=format&fit=crop&q=80&w=1200" alt="Japan Castle">
                </div>
            </div>
            <div class="card four" style="background: var(--accent-red); color: white;">
                <h3 style="color: white;">Усиление власти сёгунов</h3>
                <h2 style="color: white;">Кризис власти</h2>
                <p style="color: rgba(255,255,255,0.8);">Дворяне за пределами столицы (Хэйан) были недовольны правительством. За власть боролись два крупных дома — <b style="color: white;">Тайра и Минамото.</b> <br> <b style="color: white;">Минамото Ёритомо</b> В 1185 году он одержал победу в междоусобной войне. В <b style="color: white;">1192 году</b> он получил титул <b style="color: white;">сёгуна</b>, (великого полководца).</p>
                <p style="color: rgba(255,255,255,0.8);"> <b style="color: white">Сёгунат</b> - Была создана система централизованного военного управления. Сёгун стал реальным правителем, опирающимся на сословие самураев, а император окончательно превратился в формальную фигуру.</p>
            </div>
        </div>

        <div class="bento-grid reveal">
            <div class="card half">
                <h3>Окончание борьбы с монголами</h3>
                <h2>Оборона</h2>
                <p>Японцы построили вдоль берега каменную стену, чтобы сдерживать монгольскую кавалерию.</p>
                <h2>Роль стихии</h2>
                <p>Решающую роль снова сыграл тайфун, <b> который уничтожил большую часть флота хана Хубилая </b> (погибло около 4 тысяч кораблей).</p>
                <h2>Итог</h2>
                <p><b>После огромных потерь монголы окончательно отказались от попыток завоевать Японию.</b></p>
            </div>
            <div class="card half">
                <h3>Политический кризис и Киотский сёгунат</h3>
                <h2>Падение Камакуры</h2>
                <p>Борьба с монголами истощила страну. <b>Многие феодалы были недовольны правлением сёгунов из Камакуры.</b></p>
                <h2>Смена власти</h2>
                <p><b>В 1333 году несколько могущественных семей объединились</b> с домом Асикага, <b>захватили Киото и свергли старый сёгунат.</b></p>
                <h2>Новый порядок</h2>
                <p><b>В 1338 году</b> Асикага принял титул сёгуна и основал Киотский сёгунат (период Муромати).</p>
            </div>
        </div>

        <div class="card full reveal">
            <h3>Период раздробленности и «Война Онин»</h3>
            <h2>Ослабление центра</h2>
            <p>В XIV–XV веках власть сёгунов ослабла. На местах усилились крупные феодалы — <b>даймё</b>, которые правили своими провинциями как независимые правители.</p>
            <p><b>Междоусобицы:</b> Даймё сами издавали законы, собирали налоги и постоянно воевали друг с другом.
                <br><b>Война Онин (1467–1477):</b> Масштабная гражданская война между сторонниками дома Асикага за престол.
                <br><b>Последствия:</b> Война нанесла страшный экономический ущерб, а столица Киото была практически полностью разрушена.</p>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
            <div class="img-box" style="margin: 0; aspect-ratio: 1/1;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Satsuma-samurai-during-boshin-war-period.jpg/330px-Satsuma-samurai-during-boshin-war-period.jpg" alt="Sogun 1">
            </div>
            <div class="img-box" style="margin: 0; aspect-ratio: 1/1;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/76/Minamoto_no_Yoritomo.jpg/1280px-Minamoto_no_Yoritomo.jpg" alt="Sogun 2">
            </div>
        </div>

        <div class="bento-grid reveal" style="margin-top: 50px;">
            <div class="card eight" style="background-color: white;">
                <h3>КОРЕЯ</h3>
                <h2>Корё во время монгольского нашествия</h2>
                <p><b>Поражение:</b> В 1231 году после битвы у крепости Анбук войска Корё проиграли монголам и заключили перемирие.</p>
                <p><b>Вассалитет:</b> Корея стала частью империи Юань (монгольский Китай). Столицу даже переносили на остров Канхвадо, чтобы спастись от монгольской конницы.</p>
                <p><b>Гнёт:</b> Народ платил огромную дань, содержал монгольские войска и участвовал в их походах на Японию.</p>
                <p><b>Освобождение:</b> В <b>1356 году</b> монарх Конмин начал борьбу с монгольским влиянием, а <b>к 1368 году</b> (с падением империи Юань) Корея стала полностью свободной.</p>
            </div>
            <div class="card four" style="background: #1c1c1e; color: white; text-align: left; padding: 40px; margin-right: 50px;"> 
    <h3 style="color: var(--accent-red); margin-bottom: 20px;">КОРОЛЕВСТВО ЧОСОН</h3>
    <h2 style="color: white; font-size: 2.5rem; margin-bottom: 20px;">Конфликт с Мин</h2>
    
    <p style="color: #86868b; line-height: 1.6;">Китайская династия Мин пыталась предъявить права на земли Кореи.</p>
    
    <p style="color: #86868b; line-height: 1.6; margin-top: 15px;">
        <b style="color: white;">Переворот:</b> Полководец Ли Сон Ге, вместо войны с Китаем, в 1392 году совершил переворот и захватил столицу.
    </p>
    <p style="color: #86868b; line-height: 1.6; margin-top: 15px;"> <b style="color: white;">Новая эпоха:</b> Ли Сон Ге стал королем, основав новую династию — Ли, и переименовал страну в Чосон.</p>
</div>
        <div class="card full reveal" style="background: white; margin-top: 30px; padding: 40px;">
    <h3>Государство Чосон: Реформы и расцвет</h3>
    <h2>Основание и укрепление власти</h2>
    <p><b>Новая столица:</b> Король Ли Сон Ге (Тхэджо) перенес столицу в город <b>Хансон</b> (ныне Сеул).</p>
    <p><b>Централизация:</b> Для усиления контроля над страной Ли Сон Ге провел реформы, направленные на ослабление местной знати и укрепление центральной власти.</p>
    <p><b>Строительство:</b> По приказу короля в новой столице были возведены дворцовый комплекс Кёнбоккун, храмы, дороги и рынки.</p>
</div>
        </div>
        <div class="bento-grid reveal" style="margin-top: 30px; display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
    <div class="card" style="background: white; padding: 30px;">
        <h3>РЕФОРМЫ</h3>
        <h2>Реформы Тхэджона (1400–1418)</h2>
        <p style="margin-top: 25px;"><b>Третий правитель Чосона</b> провел жесткие преобразования для укрепления трона:</p>
        <p style="margin-top: 30px;"><b>Военная реформа:</b> Он распустил частные армии знати и создал единую <b>национальную армию.</b></p>
        <p style="margin-top: 2px;"><b>Государственный совет:</b> Был создан высший орган управления — Государственный совет, где решения принимались при участии премьер-министра и его заместителей.</p>
        <p style="margin-top: 20px;"><b>Контроль над чиновниками:</b> Чтобы избежать взяточничества и сепаратизма, чиновников регулярно переводили из одного района в другой.</p>
        <p style="margin-top: 20px;"><b>Связь с народом:</b> В 1402 году у ворот дворца установили <b>«большой барабан»</b>, в который мог ударить любой человек, чтобы сообщить о злоупотреблениях чиновников.</p>
        <p style="margin-top: 20px;"><b>Учет населения:</b> В 1413 году ввели систему именных табличек (хопхэ). Каждый взрослый мужчина был обязан носить такую табличку, что помогало собирать налоги и бороться с уклонистами.</p>
    </div>
    <div class="card" style="background: #1c1c1e; color: white; padding: 30px;">
        <h3>«Золотой век»</h3>
        <h2 style="color: white;">«Золотой век» при Седжоне Великом (1418–1450)</h2>
        <p style="color: #86868b; margin-top: 15px;">Первая половина XV века стала временем мощного подъема:</p>
        <p style="color: #86868b; margin-top: 30px;"><b style="color: white;">Сельское хозяйство:</b> Седжон уделял огромное внимание аграрному сектору как основе экономики.</p>
        <p style="color: #86868b; margin-top: 25px;"><b style="color: white;">Борьба с голодом:</b> В государственных закромах создавались запасы зерна на случай неурожая для распределения среди населения.</p>
        <p style="color: #86868b; margin-top: 25px;"><b style="color: white">Налоговая реформа:</b> Был издан указ о прогрессивном налоге, размер которого зависел от качества урожая.</p>
        <p style="color: #86868b; margin-top: 25px;"><b style="color: white">Поддержка крестьян:</b> Крестьянам разрешили продавать излишки зерна и запретили отбирать его силой, что стимулировало производство.</p>
    </div>
</div>

<div class="card full reveal" style="background: white; margin-top: 30px; padding: 40px;">
    <h3>Внешняя политика Чосона</h3>
    <h2>Отношения с Китаем (Мин)</h2>
    <p>Чтобы обеспечить безопасность страны, король Тхэджо отправил послов в империю Мин для официального признания новой династии Ли. Китайский император Хунъу признал Чосон и установил с ним дружественные отношения.</p>
    <div style="height: 2px; width: 200px; background-color: var(--accent-red); margin: 20px 0; border-radius: 2px;"></div>
    <h2 style="margin-top: 35px">Борьба с пиратами</h2>
    <p>В этот период Корея сильно страдала от набегов японских пиратов. Король Седжон пытался решить проблему дипломатией, сотрудничая с японским правительством, но также усилил оборону: расширил территорию на севере и построил военные укрепления на побережье.</p>
    <div style="height: 2px; width: 200px; background-color: var(--accent-red); margin: 20px 0; border-radius: 2px;"></div>
    <h2 style="margin-top: 35px">Стабильность</h2>
    <p>Вторая половина XV века (особенно правление короля Сонджона) стала временем относительного мира и расцвета государственного управления. Был завершен и введен в жизнь «Большой кодекс государственного управления».</p>
</div>
        <div class="conclusion-card reveal" style="margin-top: 50px">
            <h3>Наследие Японии и Кореи (Итоги)</h3>
            <h2>Изучая историю этих стран, можно выделить три главных столпа их развития:</h2>
            <p>Изучая средневековую историю Японии и Кореи, мы можем сделать важные выводы:</p>
            <ul class="feature-list" style="color: #fff;">
                <li style="color: #d2d2d7;"><b style="color: white;">Баланс власти и духа:</b> В Японии система сёгуната доказала, что реальная сила может принадлежать воинам, но авторитет традиций (императора) остается незыблемым.</li>
                <li style="color: #d2d2d7;"><b style="color: white;">Стойкость перед угрозой:</b> Опыт борьбы с монголами и пиратами научил оба народа использовать и силу природы (тайфуны), и инженерную мысль (каменные стены и крепости) для защиты своей независимости.</li>
                <li style="color: #d2d2d7;"><b style="color: white;">Прогресс через реформы:</b> Успех династии Ли в Корее подтвердил: процветание нации начинается с заботы о народе — от справедливых налогов до учета каждого гражданина.</li>
            </ul>
            <p>Эти страницы истории показывают, как через войны и кризисы ковался фундамент современных лидеров Азии.</p>
        </div>

        <div class="crossword-container reveal" id="interactive">
            <h2>Проверка знаний</h2>
            <p>Заполните кроссворд, используя термины из презентации.</p>
            <div class="cw-layout">
                <div id="crossword" class="cw-grid"></div>
                <div class="clues-panel">
                    <h4>По горизонтали</h4>
                    <ul id="clues-h"></ul>
                    <h4>По вертикали</h4>
                    <ul id="clues-v"></ul>
                    <div style="margin-top: 20px;">
                        <button class="btn btn-primary" onclick="checkAll()">Проверить</button>
                        <button class="btn" style="background: #eee;" onclick="revealAnswers()">Ответы</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <footer>
        <p>© 2026 Проект подготовили ученики 8 «Д» класса для урока Истории. <br> Мы изучили не просто факты, а живую историю двух великих народов.</p>
    </footer>

    <script>
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        window.onscroll = () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            document.getElementById("scroll-progress").style.width = (winScroll / height) * 100 + "%";
        };

        // ИСПРАВЛЕННЫЙ КРОССВОРД (Слова теперь пересекаются правильно)
        // 1. САМУРАЙ (H, 2,1)
        // 2. СЁГУН (V, 2,1) - Пересечение на 'С'
        // 3. МИКАДО (V, 4,1) - Пересечение на 'М' (3-я буква Самурай)
        // 4. ТАЙФУН (H, 2,9)
        // 5. ЧОСОН (H, 4,5)
        // 6. ХАНГЫЛЬ (V, 10,2)
        const words = [
            { w: "САМУРАЙ", x: 2, y: 1, dir: 'h', n: 1, q: "Воин, живущий по кодексу Бусидо." },
            { w: "СЁГУН", x: 2, y: 1, dir: 'v', n: 2, q: "Титул военного правителя Японии." },
            { w: "МИКАДО", x: 4, y: 1, dir: 'v', n: 3, q: "Титул императора Японии." },
            { w: "ЧОСОН", x: 4, y: 5, dir: 'h', n: 4, q: "Династия, правившая Кореей с 1392 года." },
            { w: "ТАЙФУН", x: 2, y: 9, dir: 'h', n: 5, q: "Природное явление, уничтожившее флот монголов." },
            { w: "ХАНГЫЛЬ", x: 10, y: 2, dir: 'v', n: 6, q: "Корейский алфавит, созданный Седжоном." },
            { w: "БУСИДО", x: 6, y: 1, dir: 'v', n: 7, q: "Путь воина (кодекс чести)." }
        ];

        const grid = document.getElementById('crossword');
        const cluesH = document.getElementById('clues-h');
        const cluesV = document.getElementById('clues-v');

        for (let y = 0; y < 11; y++) {
            for (let x = 0; x < 12; x++) {
                const cell = document.createElement('div');
                cell.className = 'cw-cell empty';
                cell.id = `c-${x}-${y}`;
                grid.appendChild(cell);
            }
        }

        words.forEach(obj => {
            const li = document.createElement('li');
            li.innerHTML = `<b>${obj.n}.</b> ${obj.q}`;
            if(obj.dir === 'h') cluesH.appendChild(li); else cluesV.appendChild(li);

            for (let i = 0; i < obj.w.length; i++) {
                const cx = obj.dir === 'h' ? obj.x + i : obj.x;
                const cy = obj.dir === 'v' ? obj.y + i : obj.y;
                const cell = document.getElementById(`c-${cx}-${cy}`);
                
                if (cell.classList.contains('empty')) {
                    cell.classList.remove('empty');
                    const input = document.createElement('input');
                    input.maxLength = 1;
                    input.dataset.answer = obj.w[i];
                    cell.appendChild(input);
                    if (i === 0) {
                        const span = document.createElement('span');
                        span.innerText = obj.n;
                        cell.appendChild(span);
                    }
                } else {
                    // Если ячейка уже занята, проверяем, совпадает ли буква для пересечения
                    const input = cell.querySelector('input');
                    if (input.dataset.answer !== obj.w[i]) {
                        console.error(`Ошибка пересечения в слове ${obj.w} на букве ${obj.w[i]}`);
                    }
                }
            }
        });

        function checkAll() {
            document.querySelectorAll('.cw-cell input').forEach(inp => {
                if (inp.value.toUpperCase() === inp.dataset.answer) {
                    inp.parentElement.classList.add('correct');
                    inp.style.color = "white";
                } else if(inp.value !== "") {
                    inp.style.color = "red";
                    inp.parentElement.classList.remove('correct');
                }
            });
        }

        function revealAnswers() {
            document.querySelectorAll('.cw-cell input').forEach(inp => {
                inp.value = inp.dataset.answer;
                inp.parentElement.classList.add('correct');
                inp.style.color = "white";
            });
        }
    </script>
</body>
</html>